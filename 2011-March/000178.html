<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Star-users] star tape I/O suggestion
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/star-users/2011-March/index.html" >
   <LINK REL="made" HREF="mailto:star-users%40lists.berlios.de?Subject=Re%3A%20%5BStar-users%5D%20star%20tape%20I/O%20suggestion&In-Reply-To=%3C4d70048d.2mVtk3i2yG/33PuR%25Joerg.Schilling%40fokus.fraunhofer.de%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000179.html">
   <LINK REL="Next"  HREF="000180.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Star-users] star tape I/O suggestion</H1>
    <B>Joerg Schilling</B> 
    <A HREF="mailto:star-users%40lists.berlios.de?Subject=Re%3A%20%5BStar-users%5D%20star%20tape%20I/O%20suggestion&In-Reply-To=%3C4d70048d.2mVtk3i2yG/33PuR%25Joerg.Schilling%40fokus.fraunhofer.de%3E"
       TITLE="[Star-users] star tape I/O suggestion">Joerg.Schilling at fokus.fraunhofer.de
       </A><BR>
    <I>Thu Mar  3 22:13:49 CET 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000179.html">[Star-users] star tape I/O suggestion
</A></li>
        <LI>Next message: <A HREF="000180.html">[Star-users] star tape I/O suggestion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE><A HREF="https://lists.berlios.de/mailman/listinfo/star-users">markk at clara.co.uk</A> wrote:

&gt;<i> The default blocking factor of star (and other tar programs) is 20, so
</I>&gt;<i> data is written in chunks of 10240 bytes.
</I>&gt;<i>
</I>&gt;<i> While using that small a tape block size allows for wider interchange,
</I>&gt;<i> writing one block at a time gives lower performance than necessary. When
</I>&gt;<i> writing to tape, the user can set fixed block size mode, e.g. by doing
</I>&gt;<i>   mt -f /dev/nst0 setblk 10240
</I>&gt;<i>
</I>&gt;<i> Each tape I/O can then be a multiple of the block size, rather than a
</I>&gt;<i> single block. On my system the Linux kernel imposes an arbitrary limit on
</I>&gt;<i> I/O length of 512KB. But that would still allow each I/O to be of 51
</I>&gt;<i> 10240-byte blocks.
</I>&gt;<i>
</I>&gt;<i> It would thus improve performance if star were able to, when writing to
</I>&gt;<i> tape, write in chunks of 51 blocks (in this example). The final write
</I>&gt;<i> would be for a lower number of blocks. The same could apply for reading
</I>&gt;<i> from tape.
</I>
Star is able to write any blosk size sou like in case your OS suppoorts this.

Just specify the block size you need. Note that writing blocks that are larger 
than 63 kB may cause you top become unable to read in tapes on some OS or 
hardware.

The drive needs to have a suffucient amount of RAM, the DMA controler needs to 
support a DMA counter that sopports the desired DMA count and the OS needs to 
support this too.

J&#246;rg

-- 
 EMail:<A HREF="https://lists.berlios.de/mailman/listinfo/star-users">joerg at schily.isdn.cs.tu-berlin.de</A> (home) J&#246;rg Schilling D-13353 Berlin
       <A HREF="https://lists.berlios.de/mailman/listinfo/star-users">js at cs.tu-berlin.de</A>                (uni)  
       <A HREF="https://lists.berlios.de/mailman/listinfo/star-users">joerg.schilling at fokus.fraunhofer.de</A> (work) Blog: <A HREF="http://schily.blogspot.com/">http://schily.blogspot.com/</A>
 URL:  <A HREF="http://cdrecord.berlios.de/private/">http://cdrecord.berlios.de/private/</A> <A HREF="ftp://ftp.berlios.de/pub/schily">ftp://ftp.berlios.de/pub/schily</A>

</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000179.html">[Star-users] star tape I/O suggestion
</A></li>
	<LI>Next message: <A HREF="000180.html">[Star-users] star tape I/O suggestion
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#178">[ date ]</a>
              <a href="thread.html#178">[ thread ]</a>
              <a href="subject.html#178">[ subject ]</a>
              <a href="author.html#178">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/star-users">More information about the Star-users
mailing list</a><br>
</body></html>
